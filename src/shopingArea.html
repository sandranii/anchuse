<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
   
<div id="app">
    <header class="page_header">
        <nav>
            <input type="checkbox" id="check">
            <label for="check">
                <span class="line1"></span>
                <span class="line2"></span>
                <span class="line3"></span>
            </label> 
            <a href="../index.html" class="header_logo"><img src="../images/headerLogo.png" alt=""></a>
            <ul>
                <li><a href="../aboutUs.html">關於我們</a></li>
                <li><a href="../reservation.html">預約按摩</a></li>
                <li><a href="../shopingArea.html">商品專區</a></li>
                <!-- <a href="../index.html" class="header_logo"><img src="../images/headerLogo.png" alt=""></a> -->
                <li><a href="../massageschool.html">按摩小學堂</a></li>
                <li><a href="">常見問題</a></li>
            </ul>
            <div class="header_icon">
                <span class="header_member"><a href="../memLogin.html" ><img src="../images/headerMember.png" alt=""></a></span>
                <span class="header_shopping_cart"><a href="../shoppingCart.html"><img src="../images/headerShoppinCart.png" alt=""></a></span>
            </div>  
            
        </nav>
    </header>

    <!-- ========================= -->
    
    <div class="commodity-container">
        <div class="page-path">
            <div class="commodity-title">
               <div class="title-font">嚴</div>
               <div class="title-font">選</div>
               <div class="title-font">商</div>
               <div class="title-font">品</div>
            </div>
            <div class="bread">
                <small>首頁>商品專區>嚴選產品</small>
            </div>  
        </div>

        <div class="commodity-search">
            <div class="commodity-filter">
                <select name="" id="">
                    <option value="">由新到舊</option>
                    <option value="">價錢由高至低</option>
                </select>
            </div>
            <div class="commodity-enter">
                <input type="text">
            </div>
            <div class="commodity-keywords">
                <p class="words">玫瑰</p>
                <p class="words">薄荷</p>
                <p class="words">筋膜槍</p>
                <p class="words">按摩槍</p>
                <p class="words">精油</p>
            </div>
        </div>
    </div>
   

    <div class="area-list">
        <div class="row">
            <div class="area-order">
                <div class="area-order-title">
                    <h2>嚴選商品</h2>
                </div>
                <ul>
                    <li v-for="(product,key) in data" @click="showOil(key)">
                        <span style="font-size: 23px;font-weight: 800;">{{product[0].itemName}}</span>
                        <span class="triangle">{{text}}</span>                          

                        <ul :class="{oilList:openPage1}">
                            <li>玫瑰ROSE</li>
                            <li>薰衣草 Lavender</li>
                            <li>薄荷 Peppermint</li>
                        </ul>    
                    </li>
                </ul>
            </div>
    
            <div class="wrap">
        

                <a href="./productdetails.html">
                    <div class="area-box" v-if="currentPage==1" :class="{block:currentPage==1}" >

                 
                        <div class="col-3  area-card" v-for="(item,key) in commodity" @click="addOrder(item.id)" :key="item.id" >
                      
                            <div class="area-pic">
                                <img :src="item.img">
                            </div>
                            <div class="area-name bold">
                                <h5>{{item.name}}</h5>
                            </div>
                            <div class="area-introduce">
                                <div class="area-oritem">
                                    <small class="area-capacity">{{item.cpacity}}</small>
                                    <small class="area-origin">產地：{{item.origin}}</small>
                            
                                </div>
                                <div class="area-price">
                                    <p>售價:{{item.price}}元</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
               
            
     
             

                <div class="area-box" v-if="show=currentPage=='2'" 
                :class="{block:currentPage==2}">
                    <div class="col-3  area-card" v-for="(item,value) in info">
                        <div class="area-pic">
                            <img :src="item.img">
                        </div>
                        <div class="area-name">
                            <h3>{{item.name}}</h3>
                        </div>
                        <div class="area-introduce">
                            <div class="area-oritem">
                                <small class="area-capacity">{{item.cpacity}}</small>
                                <small class="area-origin">產地：{{item.origin}}</small>
                        
                            </div>
                            <div class="area-price">
                                <p>售價:{{item.price}}元</p>
                            </div>
                           
                        </div>
                    </div>
                 
                </div>
<!-- ========================================================== -->
                <div class="area-box" v-if="show=currentPage=='3'" :class="{block:currentPage==3}">
                    <div class="col-3  area-card" v-for="(item,value) in rose">
                        <div class="area-pic">
                            <img :src="item.img">
                        </div>
                        <div class="area-name">
                            <h3>{{item.name}}</h3>
                        </div>
                        <div class="area-introduce">
                            <div class="area-oritem">
                                <small class="area-capacity">{{item.cpacity}}</small>
                                <small class="area-origin">產地：{{item.origin}}</small>
                        
                            </div>
                            <div class="area-price">
                                <p>售價:{{item.price}}元</p>
                            </div>
                        </div>
                    </div>
                </div>
            
                <div class="page-number-computer">
                    <button  class="btnLittle"  @click="pageReduce"><</button>
                    <span style="  letter-spacing: 2px;" v-for="i in 3" :class="{fontcolor:i==currentPage}" @click="chose(i)">{{i}}</span>
                    <button class="btnLittle"  @click="pageAdd()">></button>
                </div>
            </div> 
        </div>
    </div>            
</div>
   
   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js"></script>
    <script src="https://unpkg.com/vue@next"></script>

    <script>
   




     Vue.createApp({
        data(){
            return{
                data:[],
                info:[],
                rose:[],
                order:[],
                car:[],
                gun:[],
                commodity:[],
                index:1,
                count:0,
                text:"+",
                text2:"+",
                openPage1:true,
                openPage2:true,
                currentPage:1,
            
            }
        },
        methods: {
            commodityInfo(){
             
                axios.get("./json/list.json")
                .then((res)=>{                    
                    this.data = res.data

                    this.commodity=res.data.gun
                    this.gun = res.data.gun
                    this.equipment = res.data.equipment
                    this.oil = res.data.rose
                
                })
           
            },
            showOil(key){
                if(key=="gun"){
                    this.commodity=this.gun
                }else if(key=="equipment"){
                    this.commodity=this.equipment
                }else{
                    this.commodity=this.oil
                }

            },
            showAppliance(){
                this.openPage2 = !this.openPage2
                if(!this.openPage2){
                    this.text2="-";
                }else{
                    this.text2="+";
                }
            },
            chose(i){
                this.currentPage=i
            },
            pageReduce(){
                if(this.currentPage>1){
                    this.currentPage-=1;
                }   
            },
            pageAdd(){
              
                if(this.currentPage<3){
                    this.currentPage+=1;
                }
            },
            addOrder(id){
             let index = this.commodity.findIndex(item=>item.id==id)
          
                this.order.push({
                    id:this.commodity[index].id,
                    img:this.commodity[index].img,
                    imgTop:this.commodity[index].imgTop,
                    imgBody:this.commodity[index].imgBody,
                    name:this.commodity[index].name,
                    price:this.commodity[index].price,
                    num:this.commodity[index].num,
                    logo:this.commodity[index].logo,
                    product1:this.commodity[index].product1,
                    product2:this.commodity[index].product2,
                    product3:this.commodity[index].product3,
                    specification:this.commodity[index].specification,
                    feature:this.commodity[index].feature

                })

                
               
                this.storage()
            },
            clear(){
                let index = this.data.findIndex(item=>item.id==id)
                this.order.splice(index,1)
                console.log(this.order)
                localStorage.clear("order")
            },
            storage(){
                localStorage.setItem("order",JSON.stringify(this.order))
            },
            online(){
                let orderList = localStorage.getItem("order");
                if(!orderList) return;
                this.order = JSON.parse(orderList);
            },
        
            carOnline(){
            let buyCar = localStorage.getItem("car");
                if(!buyCar) return;
                this.car = JSON.parse(buyCar)
            },
          
          
        },
        created() {
            this.clear()
            this.online()
            this.carOnline()
           
        },
        computed:{
           
        },
        
        mounted() {
            this.commodityInfo()
          
        
        },
     }).mount("#app")

    
    </script>

    
</body>
</html>